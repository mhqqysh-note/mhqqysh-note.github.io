<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>交互式测验 (40 题版)</title>
<style>
    body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
        line-height: 1.6;
        background-color: #f5f5f5;
        color: #333;
        margin: 0;
        padding: 20px;
    }

    #quiz-container {
        max-width: 800px;
        margin: 20px auto;
    }
    
    h1 {
        text-align: center;
        color: #005A9C;
    }

    .quiz-block {
        background-color: #fff;
        border: 1px solid #dcdcdc;
        border-radius: 6px;
        margin-bottom: 20px;
    }

    .question-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 20px 25px;
        border-bottom: 1px solid #dcdcdc;
    }

    .question-title {
        font-size: 1.2em;
        font-weight: 600;
    }

    .question-pts {
        font-size: 0.9em;
        color: #555;
        font-weight: 600;
    }

    .question-body {
        padding: 25px;
    }

    .question-text {
        font-size: 1.1em;
        margin: 0 0 20px 0;
    }

    .option {
        display: block;
        margin-bottom: 10px;
        cursor: pointer;
        border-radius: 6px;
    }
    .option:hover {
        background-color: #f0f0f0;
    }
    .option input {
        margin-right: 10px;
        vertical-align: middle;
        transform: scale(1.1);
    }
    .option label {
        display: flex;
        align-items: center;
        width: 100%;
        padding: 8px 12px;
        border-radius: 6px;
    }
    
    .result-feedback {
        margin-top: 20px;
    }

    .incorrect-feedback {
        background-color: #fff1f0;
        border: 1px solid #ffa39e;
        border-left: 5px solid #f5222d;
        padding: 15px;
        border-radius: 5px;
    }
    .incorrect-feedback p {
        font-size: 1em;
        margin: 0 0 10px 0;
        color: #d93025;
    }
    .incorrect-feedback .explanation {
        font-size: 0.95em;
        color: #333;
    }

    .correct-feedback {
        background-color: #f6ffed;
        border: 1px solid #b7eb8f;
        border-left: 5px solid #52c41a;
        padding: 15px;
        border-radius: 5px;
    }
    .correct-feedback .explanation {
        font-size: 0.95em;
        color: #333;
    }

    #score-display {
        text-align: center;
        margin-bottom: 20px;
        font-size: 1.5em;
        font-weight: bold;
        color: #005A9C;
    }
</style>
</head>
<body>

<h1>交互式测验 (40 题版)</h1>
<div id="quiz-container">
    <div id="score-display"></div>

    <form id="quiz-form">
        </form>
</div>

<script>
// 1. 答案和解释数据库 (40 题)
const quizData = {
    q1: { 
        question: "Acuity describes",
        options: {
            a: "The distance to the closest object a person can see",
            b: "The ability to distinguish colors at normal circumstances and in perfect light conditions",
            c: "The amount of detail an individual sees compared to what a person with normal vision sees",
            d: "The entire area that can be seen at one time with a fixed eye"
        },
        correctAnswer: "c", 
        explanation: "视敏度（Visual Acuity）主要描述视觉的清晰度或敏锐度，即个体分辨细节的能力。通常通过视力表测试，与正常视力标准进行对比。——见相关视力障碍讲义" 
    },
    q2: { 
        question: "A person with \"peripheral vision\"",
        options: {
            a: "Can see the back (the so called \"periphery\") of their eye",
            b: "Can only see straight ahead and not to the sides",
            c: "Can see black dots in the periphery of their eye",
            d: "Can only see to the sides but not straight ahead"
        },
        correctAnswer: "d", 
        explanation: "只有周边视觉（Peripheral vision）意味着中心视力丧失，患者只能看到视野边缘（侧面）的物体，而无法看清正前方的物体（如黄斑变性可能导致此症状）。——见相关视力障碍讲义" 
    },
    q3: { 
        question: "Cataracts",
        options: {
            a: "Involve a clouding of the eye's natural lens",
            b: "Are casued by damage to the occipital lobe of the brain",
            c: "Involve changes in blood vessels in the retina",
            d: "Are caused by an increased pressure in the eye"
        },
        correctAnswer: "a", 
        explanation: "白内障（Cataracts）的病理特征是眼球晶状体（lens）变得混浊，阻碍光线进入，导致视力模糊。——见相关眼科病理讲义" 
    },
    q4: { 
        question: "What are the most common symptoms of age-related macular degeneration (AMD)?",
        options: {
            a: "Sensitivity to light and glare",
            b: "Black spots floating in the visual field",
            c: "Loss of peripheral vision",
            d: "Blurred or distorted central vision"
        },
        correctAnswer: "d", 
        explanation: "老年性黄斑变性（AMD）主要影响视网膜中心的黄斑区，因此其典型症状是中心视力模糊、扭曲或出现盲点，而不影响周边视力。——见相关视力障碍讲义" 
    },
    q5: { 
        question: "Deafness",
        options: {
            a: "Is the general term used to describe all types of hearing loss",
            b: "Is a state occurring when a person is unable to understand speech through the ear alone, either with or without a hearing aid",
            c: "Is a state occurring when a person has moderate to severe hearing loss",
            d: "Is a state occurring when a person has mild to moderate hearing loss"
        },
        correctAnswer: "b", 
        explanation: "根据定义，“全聋”（Deafness）是指听力损失程度严重到无论是否佩戴助听器，都无法仅凭听觉理解语音。——见相关听力障碍定义讲义" 
    },
    q6: { 
        question: "Which of the following is the most common cause of acquired hearing loss?",
        options: {
            a: "Head trauma",
            b: "Aging",
            c: "Rh incompatibility",
            d: "Genetic"
        },
        correctAnswer: "b", 
        explanation: "老年性耳聋（Presbycusis）是后天获得性听力损失最常见的原因，随着年龄增长，听觉系统自然退化。——见相关听力障碍病因讲义" 
    },
    q7: { 
        question: "Rh incompatibility",
        options: {
            a: "Develops when both a pregnant mother and a fetus have Rh positive blood type",
            b: "Develops when a pregnant mother's blood is Rh negative and fetus's blood is Rh positive",
            c: "Develops when a pregnant mother's blood is Rh positive and fetus' blood is Rh negative",
            d: "Develops when both a pregnant mother and a fetus have Rh negative blood type"
        },
        correctAnswer: "b", 
        explanation: "Rh血型不合发生于母亲是Rh阴性血，而胎儿是Rh阳性血的情况。母体可能会产生抗体攻击胎儿的红细胞，导致溶血等并发症。——见相关产前发育与残疾成因讲义" 
    },
    q8: { 
        question: "Conductive hearing loss is often caused by",
        options: {
            a: "An obstruction in the outer ear",
            b: "The pathways to the brain or the brain itself being damaged",
            c: "Malfunction of cochlea",
            d: "Conductivity problem in the temporal lobe"
        },
        correctAnswer: "a", 
        explanation: "传导性听力损失（Conductive hearing loss）通常是由于外耳或中耳的问题（如耳垢堵塞、耳部感染等）阻碍了声音传入内耳。——见相关听力障碍分类讲义" 
    },
    q9: { 
        question: "Which of the following is a core diagnostic criterion of autism spectrum disorder?",
        options: {
            a: "Uncontrollable tonic-clonic seizures",
            b: "Ongoing social-emotional problems that include difficulty communicating and interacting with others",
            c: "Frequent hallucinations",
            d: "Sleep disturbance"
        },
        correctAnswer: "b", 
        explanation: "自闭症谱系障碍（ASD）的核心诊断标准之一是持续的社交沟通和社交互动缺陷（如难以进行正常的对话、缺乏眼神交流等）。——见相关神经发育障碍讲义" 
    },
    q10: { 
        question: "Which of the following is one of the three diagnostic criteria of intellectual disability (intellectual developmental disorder), according to DSM-5TR?",
        options: {
            a: "Sensory processing differences",
            b: "Deficits in intellectual functioning",
            c: "Onset in adulthood (symptoms appearing after 18-years of age)",
            d: "Impairment of physical functioning"
        },
        correctAnswer: "b", 
        explanation: "根据DSM-5标准，智力障碍的诊断标准包括：智力功能缺陷（如推理、解决问题能力差）、适应性功能缺陷，且这些缺陷必须发生在发育期内。——见相关智力障碍诊断讲义" 
    },
    q11: { 
        question: "Which of the following is the most common cause of intellectual disability?",
        options: {
            a: "Alcohol use during pregnancy",
            b: "Genetic/chromosomal",
            c: "Brain damage during prolonged and difficult delivery",
            d: "Drug use by the expectant mother"
        },
        correctAnswer: "b", 
        explanation: "根据目前医学统计，遗传和染色体异常（如唐氏综合征、脆性X染色体综合征等）是导致智力障碍的最常见已知原因。——见相关智力障碍病因讲义" 
    },
    q12: { 
        question: "Fetal alcohol syndrome is diagnosed, among others, by",
        options: {
            a: "Smooth groove (philtrum) between the nose and the upper lip among newborns",
            b: "Unusually large head diameter among newborns",
            c: "Five lines on the palm of newborns' hand",
            d: "Unusually fat upper lip among newborns"
        },
        correctAnswer: "a", 
        explanation: "胎儿酒精综合征（FAS）的面部特征之一是人中（philtrum，即鼻子和上唇之间的区域）变平滑，且上唇通常较薄。——见相关发育障碍特征讲义" 
    },
    q13: { 
        question: "Atlantoaxial Instability is",
        options: {
            a: "A greater than normal mobility of the two upper thoracic vertebrae",
            b: "A greater than normal mobility of the two upper cervical vertebrae",
            c: "A fusion of the two upper sacral vertebrae",
            d: "An opening within the two upper lumbar vertebrae"
        },
        correctAnswer: "b", 
        explanation: "寰枢椎不稳（Atlantoaxial Instability）是指颈椎的第一节（寰椎）和第二节（枢椎）之间的活动度异常增大，常见于唐氏综合征患者。——见相关脊柱病理讲义" 
    },
    q14: { 
        question: "Tonic-clonic seizures",
        options: {
            a: "Involve convulsions with a complete loss of consciousness",
            b: "Involve convulsions that start in one part of a limb and then spread throughout the entire side of a body",
            c: "Are brief \"absences\" when a person stares into space and does not respond to external stimuli",
            d: "Involve cells from one hemisphere of the brain"
        },
        correctAnswer: "a", 
        explanation: "强直-阵挛发作（大发作）是癫痫最严重的形式之一，特征包括意识完全丧失和全身肌肉的剧烈抽搐（convulsions）。——见相关癫痫分类讲义" 
    },
    q15: { 
        question: "Which of the following should you do when a person is experiencing a tonic-clonic seizure?",
        options: {
            a: "Move the person to a hard surface",
            b: "Turn the person's head to the side if they are vomiting",
            c: "Put an object in a person's mouth",
            d: "Imediatelly call 911"
        },
        correctAnswer: "b", 
        explanation: "当癫痫发作伴有呕吐时，应将患者头部侧向一边，以防止呕吐物吸入气管导致窒息。不应强行往口中塞东西。——见相关急救护理讲义" 
    },
    q16: { 
        question: "Stroke is",
        options: {
            a: "A cerebrovascular incident when a portion of the brain receives unusually high blood flow",
            b: "A cerebrovascular incident always involving both hemispheres of the brain",
            c: "A cerebrovascular incident that takes at least 24 hours to develop",
            d: "A cerebrovascular incident when a portion of the brain is deprived of blood"
        },
        correctAnswer: "d", 
        explanation: "中风（脑卒中）是指由于脑部血液供应中断（缺血）或血管破裂（出血），导致脑组织缺氧和损伤的脑血管意外。——见相关脑血管疾病定义讲义" 
    },
    q17: { 
        question: "Transient ischemic attacks",
        options: {
            a: "Mark the last stage in the progression of stroke",
            b: "Are uncontrollable seizures that often accompany the onset of stroke",
            c: "Are small strokes that often occur before a major stroke episode",
            d: "Are brief episodes when the part of the brain affected by stroke receives high amount of blood flow"
        },
        correctAnswer: "c", 
        explanation: "短暂性脑缺血发作（TIA），俗称“小中风”，是暂时性的脑血流中断，常被视为未来发生严重中风的前兆警报。——见相关中风预警讲义" 
    },
    q18: { 
        question: "Which one of the following is an example of an uncontrollable stroke risk factor?",
        options: {
            a: "Age",
            b: "Smoking",
            c: "Diet",
            d: "Drinking alcohol"
        },
        correctAnswer: "a", 
        explanation: "中风的风险因素分为可控和不可控。吸烟、饮食和饮酒是生活方式选择（可控），而年龄、性别、种族和遗传是不可控的生理因素。——见相关疾病风险因素讲义" 
    },
    q19: { 
        question: "Cerebral thrombosis is a form of stroke when",
        options: {
            a: "A blood clot travels to the brain from another part of the body",
            b: "A blood vessel bursts in the brain",
            c: "A blood clot forms in an artery in the brain",
            d: "A heart stops beating and pumping blood to the brain"
        },
        correctAnswer: "c", 
        explanation: "脑血栓（Cerebral thrombosis）是缺血性中风的一种，指血栓直接在脑动脉内形成并阻塞血流（区别于脑栓塞，后者是血块从别处游走到脑部）。——见相关中风分类讲义" 
    },
    q20: { 
        question: "The most common symptom of stroke includes",
        options: {
            a: "Sudden weakness or numbness on one side of the body",
            b: "An uncontrollable seizure",
            c: "Intense vomiting",
            d: "Hallucinations and dilated pupils"
        },
        correctAnswer: "a", 
        explanation: "中风最典型的症状之一是单侧身体突然出现无力、麻木或瘫痪（偏瘫），这是因为大脑一侧受损影响了对侧身体的控制。——见相关中风症状讲义" 
    },
    q21: { 
        question: "Hemianopsia is a symptom of stroke that involves",
        options: {
            a: "Disappearance of half of the visual field",
            b: "Paralysis or weakness",
            c: "Uncontrollable crying or laughter",
            d: "Inability to communicate with an outside world"
        },
        correctAnswer: "a", 
        explanation: "偏盲（Hemianopsia）是中风常见的视觉后遗症，指患者视野的一半（通常是左侧或右侧）缺失。——见相关中风后遗症讲义" 
    },
    q22: { 
        question: "Receptive (Wernicke's) aphasia is one of the symptoms of stroke that involves",
        options: {
            a: "Paralysis on one side of the body",
            b: "Impaired understanding of spoken or written language",
            c: "Difficulty articulating thoughts into coherent speech",
            d: "Loss of control of bladder function"
        },
        correctAnswer: "b", 
        explanation: "接收性失语症（Wernicke's aphasia）患者虽然说话流利但内容无意义，且主要特征是难以理解别人的口语或书面语言。——见相关语言障碍讲义" 
    },
    q23: { 
        question: "If you suspect that a person is having a stroke you should",
        options: {
            a: "Administer CPR",
            b: "Squeeze the neck of the person to prevent excessive amounts of blood from reaching the brain",
            c: "Do nothing and wait for the person to get better",
            d: "Call 911 and make sure the person is immediately transported to a hospital"
        },
        correctAnswer: "d", 
        explanation: "中风是医疗急症，时间就是大脑（Time is Brain）。一旦发现疑似症状，必须立即拨打急救电话送医，以便在黄金窗口期内进行溶栓等治疗。——见相关中风急救讲义" 
    },
    q24: { 
        question: "Psychological disorders",
        options: {
            a: "Are more common and less severe than behavioral disorders",
            b: "Do not produce significant distress or impairment in a person's daily functioning",
            c: "Are clinically significant disturbances in behavior that harm the person or others",
            d: "Are clinically significant disturbances in cognition or emotion regulation"
        },
        correctAnswer: "d", 
        explanation: "心理障碍的定义通常指在认知、情绪调节或行为方面出现临床显著的紊乱，且这些紊乱反映了心理功能的生物、心理或发展过程的功能障碍。——见相关心理病理学定义讲义" 
    },
    q25: { 
        question: "One of the most common symptoms of a major depressive disorder is/are",
        options: {
            a: "Periods of excessive happiness and laughing spells",
            b: "Markedly diminished interest/pleasure in all/almost all activities",
            c: "Increased interest in social activities",
            d: "Increased ability to make quick decisions"
        },
        correctAnswer: "b", 
        explanation: "重度抑郁症（MDD）的核心症状之一是快感缺失（Anhedonia），即对几乎所有活动明显失去兴趣或愉悦感。——见相关情绪障碍讲义" 
    },
    q26: { 
        question: "Bipolar II disorder",
        options: {
            a: "Is a mental illness characterized by extreme hallucinations that range from positive and nice to negative and violent",
            b: "Is a psychological disorder characterized by at least one manic episode",
            c: "Is a cognitive disability caused by the magnetic imbalance in the brain",
            d: "Is a psychological disorder characterized by at least 1 hypomanic and at least 1 major depressive episode with no history of manic episodes"
        },
        correctAnswer: "d", 
        explanation: "双相II型障碍的特征是至少经历过一次轻躁狂（Hypomanic）发作和一次重度抑郁发作，且从未出现过狂躁（Manic）发作。——见相关双相障碍分类讲义" 
    },
    q27: { 
        question: "What are the symptoms of the manic phase of bipolar I disorder?",
        options: {
            a: "Crying spells",
            b: "Fatigue",
            c: "Diminished interest in pleasure",
            d: "Inflated self-esteem or grandiosity"
        },
        correctAnswer: "d", 
        explanation: "双相I型障碍的狂躁期（Manic phase）症状包括极度兴奋、精力旺盛，以及典型的自尊膨胀或夸大妄想（Grandiosity）。——见相关情绪障碍症状讲义" 
    },
    q28: { 
        question: "Schizophrenia spectrum disorder is a psychological disorder in which people experience",
        options: {
            a: "Extreme procrastination",
            b: "Multiple personalities",
            c: "Hallucinations",
            d: "Feelings of extreme happiness and elation"
        },
        correctAnswer: "c", 
        explanation: "精神分裂症谱系障碍的主要特征之一是感知觉异常，患者常经历幻觉（Hallucinations），即在没有外部刺激的情况下看到或听到不存在的事物。——见相关精神分裂症讲义" 
    },
    q29: { 
        question: "Hallucinations",
        options: {
            a: "Are thoughts about unreal situations",
            b: "Involve seeing, hearing, or feeling things that are not real",
            c: "Are pathological changes in the brain detectable by MRI scans",
            d: "Are some of the symptoms of bipolar disorder that involve feelings of superiority followed by feelings of worthlessness"
        },
        correctAnswer: "b", 
        explanation: "幻觉是指在缺乏外界客观刺激的情况下产生的感知体验，包括幻听、幻视、幻触等，感觉像是真实的但实际并不存在。——见相关精神病理学症状讲义" 
    },
    q30: { 
        question: "Positive symptoms of schizophrenia involve",
        options: {
            a: "Disorganized speech",
            b: "Delusions",
            c: "Catatonic behavior",
            d: "Reduced expression of emotions"
        },
        correctAnswer: "b", 
        explanation: "精神分裂症的“阳性症状”是指正常功能之外“多出来”的异常表现，包括妄想（Delusions）和幻觉。（注：虽然言语混乱也是阳性症状，但本题选中了妄想）。——见相关精神分裂症症状分类讲义" 
    },
    q31: { 
        question: "People providing recreational activities to individuals with schizophrenia spectrum disorders should",
        options: {
            a: "Avoid exposing participants to high-distraction environments (e.g., crowded places)",
            b: "Involve participants in high-stakes, large group activities first, eventually progressing to solitary activities",
            c: "Expose participants to bright lights and high noise environments (e.g., clubs) first, subsequently progressing to quieter environments",
            d: "Involve participants in water activities without supervision"
        },
        correctAnswer: "a", 
        explanation: "精神分裂症患者常存在感觉过滤困难，高刺激或高干扰的环境（如拥挤嘈杂处）容易引发焦虑或症状加重，因此康复活动应尽量避免此类环境。——见相关康复治疗环境讲义" 
    },
    q32: { 
        question: "Generalized anxiety disorder is characterized by",
        options: {
            a: "A fear of interaction with one's coworkers",
            b: "An intense fear of a specific object or situation (e.g., spiders, dogs, germs)",
            c: "Excessive anxiety and worry (e.g., about one's health, money, or career)",
            d: "Reliving a traumatic event experienced in the past"
        },
        correctAnswer: "c", 
        explanation: "广泛性焦虑障碍（GAD）的特征是对日常生活中的多种事物（如健康、金钱、工作）表现出持续的、过度的、难以控制的焦虑和担忧。——见相关焦虑障碍讲义" 
    },
    q33: { 
        question: "Which of the following are major symptoms of panic disorder?",
        options: {
            a: "Palpitations, pounding heart, or accelerated heart rate",
            b: "Loss of sense of smell and increased sensitivity to light",
            c: "Blushing and a rapid decrease in blood pressure",
            d: "Hallucinations and headaches"
        },
        correctAnswer: "a", 
        explanation: "惊恐障碍（Panic Disorder）发作时的典型生理症状包括心悸、心跳加速、出汗、颤抖以及濒死感。——见相关焦虑障碍症状讲义" 
    },
    q34: { 
        question: "A person with a body-dysmorphic disorder",
        options: {
            a: "Is preoccupied with their good looks",
            b: "Is preoccupied with a perceived defect in their physical appearance",
            c: "Believes that others should admire their physical appearance",
            d: "Believes that they should have been born in a different body"
        },
        correctAnswer: "b", 
        explanation: "躯体变形障碍（Body Dysmorphic Disorder）患者会过度关注自己外表中某些微小的或想象出来的缺陷，并因此感到极度痛苦。——见相关强迫相关障碍讲义" 
    },
    q35: { 
        question: "Pica is an eating disorder in which people",
        options: {
            a: "Have severe cravings for fruit",
            b: "Avoid eating raw meat",
            c: "Eat nonfood substances (e.g., dirt, paint)",
            d: "Avoid eating food after midnight"
        },
        correctAnswer: "c", 
        explanation: "异食癖（Pica）是一种进食障碍，特征是持续食用非营养性、非食物物质（如泥土、油漆、纸张等）。——见相关进食障碍讲义" 
    },
    q36: { 
        question: "A person who suffers from an intermittent explosive disorder",
        options: {
            a: "Has an urge to make explosive devices",
            b: "Is pathologically afraid of fireworks",
            c: "Has recurrent behavioral outbursts (extreme expressions of anger) that are disproportionate to the provocation or potential stressors",
            d: "Has intermittent dreams of explosions often following military deployment"
        },
        correctAnswer: "c", 
        explanation: "间歇性暴怒障碍（Intermittent Explosive Disorder）表现为反复出现无法控制的冲动性攻击行为或暴怒发作，且发作强度与诱因明显不成比例。——见相关破坏性行为障碍讲义" 
    },
    q37: { 
        question: "Which of the following is a common symptom of oppositional defiant disorder?",
        options: {
            a: "High level of personal responsibility",
            b: "High emphaty for others",
            c: "Increased ability to plan ahead",
            d: "Angry/irritable mood"
        },
        correctAnswer: "d", 
        explanation: "对立违抗障碍（ODD）通常表现为持续的愤怒/易激惹情绪、争辩/挑衅行为以及报复心理。——见相关儿童行为障碍讲义" 
    },
    q38: { 
        question: "Which of the following is a Factor 1 symptom of psychopathy?",
        options: {
            a: "Violent behavior",
            b: "Lack of long-term goals",
            c: "Superficial charm",
            d: "Irresponsibility"
        },
        correctAnswer: "c", 
        explanation: "精神病态（Psychopathy）的因子1（人际/情感维度）症状包括表面魅力、自大、病态撒谎和缺乏同理心等；而暴力或缺乏目标属于因子2（生活方式/反社会维度）。——见相关人格障碍讲义" 
    },
    q39: { 
        question: "The main symptom of a borderline personality disorder is",
        options: {
            a: "Fear of abandonment",
            b: "Rapidly shifting and shallow expression of emotions",
            c: "Arrogant behavior or attitude",
            d: "Lack of empathy"
        },
        correctAnswer: "a", 
        explanation: "边缘型人格障碍（BPD）的核心特征包括人际关系不稳定、自我形象不稳定，以及极度害怕被抛弃（无论是真实的还是想象的）。——见相关人格障碍讲义" 
    },
    q40: { 
        question: "Narcolepsy is characterized by",
        options: {
            a: "Food cravings during sleep",
            b: "Late sleep onset and early awakening",
            c: "Disturbance in the structure of sleep (early onset of REM phase of sleep)",
            d: "Abnormal pauses in breathing during sleep"
        },
        correctAnswer: "c", 
        explanation: "发作性睡病（Narcolepsy）的神经学特征是睡眠结构紊乱，患者在入睡后很快进入快速眼动期（REM），导致日间过度嗜睡和猝倒。——见相关睡眠障碍讲义" 
    }
};

const totalQuestions = Object.keys(quizData).length;
const formContainer = document.getElementById('quiz-form');

// 2. 动态生成 HTML
function buildQuiz() {
    let quizHTML = '';
    let qNum = 1;
    for (const qId in quizData) {
        const q = quizData[qId];
        let optionsHTML = '';
        
        for (const optionKey in q.options) {
            optionsHTML += `
                <label class="option">
                    <input type="radio" name="${qId}" value="${optionKey}"> ${q.options[optionKey]}
                </label>
            `;
        }
        
        quizHTML += `
            <div class="quiz-block question-block">
                <div class="question-header">
                    <span class="question-title">Question ${qNum}</span>
                    <span class="question-pts">1 pts</span>
                </div>
                <div class="question-body">
                    <p class="question-text">${q.question}</p>
                    ${optionsHTML}
                    <div class="result-feedback"></div>
                </div>
            </div>
        `;
        qNum++;
    }
    formContainer.innerHTML = quizHTML;
}

// 3. 更新总分的功能
function updateScore() {
    let score = 0;
    for (const qId in quizData) {
        const selected = document.querySelector(`input[name="${qId}"]:checked`);
        if (selected && selected.value === quizData[qId].correctAnswer) {
            score++;
        }
    }
    document.getElementById('score-display').innerHTML = `总分: ${score} / ${totalQuestions}`;
}

// 4. 检查答案的功能 (每次点击时触发)
function checkAnswer(event) {
    const radio = event.target;
    // 确保点击的是单选按钮
    if (radio.type !== 'radio') return;
    
    const qId = radio.name;
    const userAnswer = radio.value;
    
    const q = quizData[qId];
    const questionBlock = radio.closest('.question-block');
    const feedback = questionBlock.querySelector('.result-feedback');

    if (userAnswer === q.correctAnswer) {
        // 答案正确
        feedback.innerHTML = `<div class="correct-feedback"><strong>✅ 正确!</strong><br><span class="explanation">${q.explanation}</span></div>`;
    } else {
        // 答案错误
        feedback.innerHTML = `
            <div class="incorrect-feedback">
                <p><strong>❌ 回答错误。</strong></p>
                <div class="explanation"><strong>正确原因:</strong> ${q.explanation}</div>
            </div>`;
    }
    
    // 每次检查答案后都更新总分
    updateScore();
}

// 5. 页面加载时构建测验
buildQuiz();

// 6. 为所有单选按钮添加事件监听器 (使用事件委托)
formContainer.addEventListener('click', checkAnswer);

// 7. 页面加载时初始化分数
updateScore();

</script>
</body>
</html>
